<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DentiBuddy - Smart Oral Health for Teens</title>
    <style>
        :root {
            /* Light theme colors */
            --primary-bg: #0f0f23;
            --secondary-bg: #1a1a2e;
            --accent-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --card-bg: rgba(255, 255, 255, 0.95);
            --text-primary: #333;
            --text-secondary: #666;
            --text-muted: #888;
            --feature-bg: white;
            --shadow-light: rgba(0,0,0,0.1);
            --shadow-medium: rgba(0,0,0,0.2);
            --button-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --option-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --custom-gradient: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);
            --chat-bg: #f8f9fa;
            --message-bg: white;
            --user-message-bg: #4facfe;
            --border-color: #667eea;
            --hero-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #4facfe 100%);
        }

        [data-theme="dark"] {
            /* Dark theme colors */
            --primary-bg: #0f0f23;
            --secondary-bg: #1a1a2e;
            --card-bg: rgba(30, 30, 40, 0.95);
            --text-primary: #e0e0e0;
            --text-secondary: #b0b0b0;
            --text-muted: #808080;
            --feature-bg: #2a2a3a;
            --shadow-light: rgba(0,0,0,0.3);
            --shadow-medium: rgba(0,0,0,0.5);
            --chat-bg: #1e1e2e;
            --message-bg: #2a2a3a;
            --hero-gradient: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            overflow-x: hidden;
            background: var(--feature-bg);
            transition: all 0.3s ease;
        }

        /* Navigation */
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            background: var(--card-bg);
            backdrop-filter: blur(20px);
            padding: 15px 0;
            z-index: 1000;
            transition: all 0.3s ease;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 2rem;
            font-weight: bold;
            background: var(--button-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 30px;
            align-items: center;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--text-primary);
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-links a:hover {
            color: #4facfe;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--button-gradient);
            transition: width 0.3s ease;
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        .settings-nav {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .theme-toggle, .chat-btn {
            background: var(--button-gradient);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .chat-btn {
            background: var(--custom-gradient);
            animation: pulse-glow 2s infinite;
        }

        @keyframes pulse-glow {
            0%, 100% { 
                transform: scale(1);
                box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
            }
            50% { 
                transform: scale(1.05);
                box-shadow: 0 8px 25px rgba(255, 107, 107, 0.6);
            }
        }

        .theme-toggle:hover, .chat-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(79, 172, 254, 0.4);
        }

        .language-select {
            background: var(--feature-bg);
            color: var(--text-primary);
            border: 2px solid var(--border-color);
            border-radius: 20px;
            padding: 8px 12px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        /* Hero Section */
        .hero {
            background: var(--hero-gradient);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 100px 20px 50px;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><polygon fill="%23ffffff08" points="0,1000 1000,0 1000,1000"/></svg>');
        }

        .hero-content {
            max-width: 800px;
            position: relative;
            z-index: 2;
            color: white;
        }

        .hero h1 {
            font-size: 4rem;
            font-weight: 800;
            margin-bottom: 20px;
            line-height: 1.1;
            text-shadow: 0 10px 30px rgba(0,0,0,0.3);
            animation: fadeInUp 1s ease-out;
        }

        .hero-subtitle {
            font-size: 1.5rem;
            margin-bottom: 30px;
            opacity: 0.95;
            font-weight: 300;
            animation: fadeInUp 1s ease-out 0.2s both;
        }

        .hero-description {
            font-size: 1.1rem;
            margin-bottom: 40px;
            opacity: 0.9;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            animation: fadeInUp 1s ease-out 0.4s both;
        }

        .hero-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            animation: fadeInUp 1s ease-out 0.6s both;
        }

        .cta-primary, .cta-secondary {
            padding: 18px 40px;
            border: none;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }

        .cta-primary {
            background: rgba(255,255,255,0.2);
            color: white;
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255,255,255,0.3);
        }

        .cta-secondary {
            background: transparent;
            color: white;
            border: 2px solid rgba(255,255,255,0.5);
        }

        .cta-primary:hover, .cta-secondary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(255,255,255,0.2);
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Stats Section */
        .stats-section {
            background: var(--feature-bg);
            padding: 80px 20px;
            transition: all 0.3s ease;
        }

        .stats-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
        }

        .stat-card {
            text-align: center;
            padding: 40px 20px;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 10px 30px var(--shadow-light);
            transition: all 0.3s ease;
            backdrop-filter: blur(20px);
        }

        .stat-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 50px var(--shadow-medium);
        }

        .stat-number {
            font-size: 3rem;
            font-weight: bold;
            background: var(--button-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            display: block;
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 1.1rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        /* Features Section */
        .features-section {
            background: var(--secondary-bg);
            padding: 100px 20px;
            color: white;
        }

        .features-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-header {
            text-align: center;
            margin-bottom: 80px;
        }

        .section-title {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 20px;
            background: var(--button-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .section-subtitle {
            font-size: 1.2rem;
            opacity: 0.8;
            max-width: 600px;
            margin: 0 auto;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 40px;
        }

        .feature-card {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(20px);
            padding: 40px;
            border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--button-gradient);
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            border-color: rgba(255,255,255,0.4);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            display: block;
        }

        .feature-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 15px;
            color: white;
        }

        .feature-description {
            opacity: 0.9;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        /* How It Works Section */
        .how-it-works {
            background: var(--feature-bg);
            padding: 100px 20px;
            transition: all 0.3s ease;
        }

        .steps-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .steps-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 50px;
            margin-top: 60px;
        }

        .step-card {
            text-align: center;
            position: relative;
        }

        .step-number {
            width: 80px;
            height: 80px;
            background: var(--button-gradient);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 2rem;
            font-weight: bold;
            color: white;
            box-shadow: 0 10px 30px rgba(79, 172, 254, 0.3);
        }

        .step-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 15px;
            color: var(--text-primary);
        }

        .step-description {
            color: var(--text-secondary);
            font-size: 1rem;
            line-height: 1.6;
        }

        /* CTA Section */
        .cta-section {
            background: var(--accent-gradient);
            padding: 100px 20px;
            text-align: center;
            color: white;
        }

        .cta-content {
            max-width: 600px;
            margin: 0 auto;
        }

        .cta-title {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 20px;
            text-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .cta-description {
            font-size: 1.2rem;
            margin-bottom: 40px;
            opacity: 0.95;
        }

        .cta-button-large {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid rgba(255,255,255,0.5);
            padding: 20px 50px;
            border-radius: 50px;
            font-size: 1.3rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(20px);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 15px;
        }

        .cta-button-large:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(255,255,255,0.3);
            border-color: white;
        }

        /* Footer */
        .footer {
            background: var(--primary-bg);
            color: white;
            padding: 60px 20px 30px;
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
        }

        .footer-section h3 {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: white;
        }

        .footer-section p, .footer-section li {
            opacity: 0.8;
            line-height: 1.6;
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section a {
            color: white;
            text-decoration: none;
            opacity: 0.8;
            transition: opacity 0.3s ease;
        }

        .footer-section a:hover {
            opacity: 1;
        }

        .footer-bottom {
            border-top: 1px solid rgba(255,255,255,0.2);
            margin-top: 40px;
            padding-top: 30px;
            text-align: center;
            opacity: 0.6;
        }

        /* Chatbot Modal */
        .chatbot-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(10px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            animation: fadeIn 0.3s ease-out;
        }

        .chatbot-container {
            background: var(--message-bg);
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            width: 90%;
            max-width: 450px;
            height: 80vh;
            max-height: 600px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            animation: scaleIn 0.3s ease-out;
            transition: all 0.3s ease;
        }

        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .chat-header {
            background: var(--button-gradient);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }

        .close-chat {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 8px 12px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .close-chat:hover {
            background: rgba(255,255,255,0.3);
        }

        .chat-header h1 {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }

        .chat-header p {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: var(--chat-bg);
            transition: all 0.3s ease;
        }

        .message {
            margin-bottom: 15px;
            opacity: 0;
            animation: messageSlideIn 0.5s forwards;
        }

        @keyframes messageSlideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .bot-message {
            background: var(--message-bg);
            color: var(--text-primary);
            padding: 15px;
            border-radius: 15px 15px 15px 5px;
            box-shadow: 0 2px 10px var(--shadow-light);
            position: relative;
            transition: all 0.3s ease;
        }

        .bot-message:before {
            content: '🦷';
            position: absolute;
            left: -10px;
            top: -5px;
            background: #4facfe;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        .user-message {
            background: var(--user-message-bg);
            color: white;
            padding: 12px 18px;
            border-radius: 15px 15px 5px 15px;
            margin-left: 50px;
            text-align: right;
            position: relative;
        }

        .options-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 15px;
        }

        .option-button {
            background: var(--option-gradient);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            text-align: left;
        }

        .option-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .custom-input-button {
            background: var(--custom-gradient);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            text-align: center;
            font-style: italic;
        }

        .custom-input-button:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
        }

        .input-container {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .input-container input {
            flex: 1;
            padding: 10px;
            border: 2px solid var(--border-color);
            border-radius: 20px;
            outline: none;
            font-size: 14px;
            background: var(--feature-bg);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .input-container button {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .question-input {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--border-color);
            border-radius: 15px;
            outline: none;
            font-size: 14px;
            margin-top: 10px;
            resize: vertical;
            min-height: 60px;
            font-family: inherit;
            background: var(--feature-bg);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .submit-question-btn {
            background: var(--button-gradient);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            margin-top: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(79, 172, 254, 0.3);
        }

        .typing-indicator {
            display: none;
            background: var(--message-bg);
            padding: 15px;
            border-radius: 15px 15px 15px 5px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }

        .typing-dots {
            display: flex;
            gap: 4px;
        }

        .typing-dots span {
            width: 8px;
            height: 8px;
            background: #667eea;
            border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out;
        }

        .typing-dots span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dots span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 80%, 100% {
                transform: scale(0);
            }
            40% {
                transform: scale(1);
            }
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .hero-subtitle {
                font-size: 1.2rem;
            }

            .hero-buttons {
                flex-direction: column;
                align-items: center;
            }

            .section-title {
                font-size: 2rem;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }

            .steps-grid {
                grid-template-columns: 1fr;
            }

            .chatbot-container {
                width: 95%;
                height: 90vh;
            }
        }

        .hidden {
            display: none !important;
        }

        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Accessibility */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">🦷 DentiBuddy</div>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#features">Features</a></li>
                <li><a href="#how-it-works">How It Works</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
            <div class="settings-nav">
                <button class="theme-toggle" onclick="toggleTheme()">
                    <span id="themeIcon">🌙</span>
                    <span id="themeText">Dark</span>
                </button>
                <select class="language-select" onchange="changeLanguage(this.value)">
                    <option value="en">🇬🇧 EN</option>
                    <option value="af">🇿🇦 AF</option>
                    <option value="zu">🇿🇦 ZU</option>
                </select>
                <button class="chat-btn" onclick="openChat()">
                    💬 Try DentiBuddy
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <h1>🦷 Smart Oral Health for Teens</h1>
            <p class="hero-subtitle">AI-powered dental education that speaks your language</p>
            <p class="hero-description">Get personalized oral health advice, learn prevention techniques, and ask questions in a safe, judgment-free environment. Available in all 11 South African languages!</p>
            <div class="hero-buttons">
                <button class="cta-primary" onclick="openChat()">
                    🚀 Start Learning Now
                
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="stats-section">
        <div class="stats-container">
            <div class="stat-card">
                <span class="stat-number">10-19</span>
                <span class="stat-label">Age Range Supported</span>
            </div>
            <div class="stat-card">
                <span class="stat-number">11</span>
                <span class="stat-label">Languages Available</span>
            </div>
            <div class="stat-card">
                <span class="stat-number">24/7</span>
                <span class="stat-label">Always Available</span>
            </div>
            <div class="stat-card">
                <span class="stat-number">100%</span>
                <span class="stat-label">Free to Use</span>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="features-section">
        <div class="features-container">
            <div class="section-header">
                <h2 class="section-title">Why Choose DentiBuddy?</h2>
                <p class="section-subtitle">Designed specifically for South African teens with cutting-edge AI technology</p>
            </div>
            <div class="features-grid">
                <div class="feature-card">
                    <span class="feature-icon">🎯</span>
                    <h3 class="feature-title">Age-Appropriate Content</h3>
                    <p class="feature-description">Tailored responses for teens and pre-teens, ensuring information is relevant and easy to understand at your level.</p>
                </div>
                <div class="feature-card">
                    <span class="feature-icon">🌍</span>
                    <h3 class="feature-title">Multilingual Support</h3>
                    <p class="feature-description">Communicate in your home language with support for all 11 official South African languages plus Hindi.</p>
                </div>
                <div class="feature-card">
                    <span class="feature-icon">💬</span>
                    <h3 class="feature-title">Interactive Conversations</h3>
                    <p class="feature-description">Choose from preset options or ask your own questions - DentiBuddy adapts to your communication style.</p>
                </div>
                <div class="feature-card">
                    <span class="feature-icon">📚</span>
                    <h3 class="feature-title">Evidence-Based Information</h3>
                    <p class="feature-description">All advice is based on current dental research and guidelines from trusted health organizations.</p>
                </div>
                <div class="feature-card">
                    <span class="feature-icon">🏆</span>
                    <h3 class="feature-title">Gamified Learning</h3>
                    <p class="feature-description">Earn achievements, maintain learning streaks, and track your oral health education journey.</p>
                </div>
                <div class="feature-card">
                    <span class="feature-icon">🔒</span>
                    <h3 class="feature-title">Safe & Private</h3>
                    <p class="feature-description">No personal data stored, completely anonymous conversations in a judgment-free environment.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section id="how-it-works" class="how-it-works">
        <div class="steps-container">
            <div class="section-header">
                <h2 class="section-title">How DentiBuddy Works</h2>
                <p class="section-subtitle">Get started in three simple steps</p>
            </div>
            <div class="steps-grid">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <h3 class="step-title">Tell Us Your Age</h3>
                    <p class="step-description">Help us customize the conversation to your age group (10-19 years) for the most relevant advice.</p>
                </div>
                <div class="step-card">
                    <div class="step-number">2</div>
                    <h3 class="step-title">Choose Your Style</h3>
                    <p class="step-description">Pick from guided options or ask your own questions - whatever feels most comfortable for you.</p>
                </div>
                <div class="step-card">
                    <div class="step-number">3</div>
                    <h3 class="step-title">Learn & Grow</h3>
                    <p class="step-description">Get personalized answers, unlock achievements, and build healthy oral care habits for life.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Call to Action Section -->
    <section class="cta-section">
        <div class="cta-content">
            <h2 class="cta-title">Ready to Transform Your Oral Health?</h2>
            <p class="cta-description">Join thousands of South African teens who are already learning with DentiBuddy. It's free, fun, and always available when you need it.</p>
            <button class="cta-button-large" onclick="openChat()">
                🦷 Start Your Journey
            </button>
        </div>
    </section>

    <!-- Footer -->
    <footer id="contact" class="footer">
        <div class="footer-container">
            <div class="footer-section">
                <h3>🦷 DentiBuddy</h3>
                <p>Empowering South African teens with AI-powered oral health education. Safe, smart, and always available.</p>
            </div>
            <div class="footer-section">
                <h3>Features</h3>
                <ul>
                    <li><a href="#features">Age-Appropriate Content</a></li>
                    <li><a href="#features">Multilingual Support</a></li>
                    <li><a href="#features">Interactive Learning</a></li>
                    <li><a href="#features">Achievement System</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Important Note</h3>
                <p>DentiBuddy provides educational information only. Always consult with a dentist or healthcare professional for medical advice, diagnosis, or treatment.</p>
            </div>
            <div class="footer-section">
                <h3>Languages</h3>
                <p>Available in all 11 official South African languages: English, Afrikaans, isiZulu, isiXhosa, Sesotho, Setswana, SiSwati, isiNdebele, Sepedi, Xitsonga, Tshivenda, plus Hindi.</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 DentiBuddy. Made with 💙 for South African teens.</p>
        </div>
    </footer>

    <!-- Chatbot Modal -->
    <div class="chatbot-modal" id="chatbotModal">
        <div class="chatbot-container">
            <div class="chat-header">
                <button class="close-chat" onclick="closeChat()">✕</button>
                <h1>🦷 DentiBuddy</h1>
                <p>Your friendly dental health assistant</p>
            </div>
            
            <div class="chat-messages" id="chatMessages">
                <div class="message">
                    <div class="bot-message">
                        Hey there! 👋 I'm DentiBuddy, your friendly oral health assistant! I'm here to help you learn about taking care of your teeth and gums in a fun way!
                        <div class="input-container">
                            <input type="number" id="ageInput" placeholder="How old are you?" min="10" max="19">
                            <button onclick="setAge()">Let's Go!</button>
                        </div>
                    </div>
                </div>
                
                <div class="typing-indicator" id="typingIndicator">
                    <div class="typing-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let userAge = null;
        let currentStep = 'age';
        let currentTheme = 'light';
        let currentLanguage = 'en';
        
// REPLACE your entire knowledgeBase object and findBestResponse function with this:

const knowledgeBase = {
    // Pain and Symptoms
    toothache: {
        keywords: ['tooth hurt', 'tooth pain', 'toothache', 'tooth ache', 'sore tooth', 'painful tooth', 'tooth hurts', 'teeth hurt', 'teeth pain', 'dental pain', 'mouth pain', 'jaw pain', 'tooth sore', 'sore teeth'],
        teen: "Tooth pain is your mouth's emergency alarm! It could be a cavity, cracked tooth, abscess, or impacted wisdom tooth. First aid: rinse with warm salt water, use a cold compress on the OUTSIDE of your cheek (never put ice directly on the tooth!), take over-the-counter pain relievers as directed, and avoid extremely hot or cold foods. Most importantly - tell a parent and see a dentist ASAP! Dental emergencies don't get better on their own and can become serious infections. 🚨",
        younger: "When your tooth hurts, it's trying to tell you something's wrong! Tell a grown-up right away - they can help make the pain stop. You can rinse your mouth with warm water and put something cold on your cheek (from the outside), but the most important thing is to see a dentist quickly so they can fix what's causing the pain! 🏥"
    },

    // Gum Problems - THIS WAS MISSING PROPER KEYWORDS
    gumProblems: {
        keywords: ['gum', 'gums', 'gum bleed', 'bleeding gum', 'gums bleed', 'bleeding gums', 'swollen gum', 'swollen gums', 'red gum', 'red gums', 'gingivitis', 'gums hurt', 'gum hurt', 'sore gum', 'sore gums', 'gum pain', 'gum disease', 'gum sore'],
        teen: "Healthy gums should be pink, firm, and not bleed when you brush or floss. Signs of gum disease: red, swollen, or bleeding gums, persistent bad breath, or gums pulling away from teeth. Gingivitis (early gum disease) is reversible with good oral hygiene. More advanced gum disease (periodontitis) needs professional treatment and can cause tooth loss. The main cause? Plaque buildup from inadequate brushing and flossing. Good news: most gum problems are preventable and treatable if caught early! 🦷",
        younger: "Healthy gums should be pink and shouldn't bleed when you brush. If your gums are red, puffy, or bleed, that means they need extra care! Brush gently along your gum line and ask a grown-up to help you floss better. Sometimes gums bleed a little when you first start flossing regularly, but they should get better within a week. If they keep bleeding, you need to see a dentist! 💗"
    },

    // Chipped/Broken Teeth - THIS WAS COMPLETELY MISSING
    chippedTeeth: {
        keywords: ['chip', 'chipped', 'chipped tooth', 'chipped teeth', 'tooth chip', 'teeth chip', 'broken tooth', 'broken teeth', 'cracked tooth', 'cracked teeth', 'tooth broke', 'teeth broke'],
        teen: "Chipped teeth can happen from accidents, biting hard objects, or teeth grinding. Small chips might not hurt but can get worse over time. Larger chips can be painful and expose nerves. What to do: rinse with warm water, save any pieces, apply gauze if bleeding, use a cold compress for swelling, and see a dentist ASAP. Avoid hard foods and don't ignore it - even small chips can lead to bigger problems! Treatment options include bonding, veneers, or crowns depending on severity. 🦷",
        younger: "Sometimes teeth can get chipped from accidents or biting something too hard! If your tooth chips, tell a grown-up right away. Rinse your mouth with warm water and try to find the piece that broke off - the dentist might be able to use it! Don't worry, dentists are really good at fixing chipped teeth and making them look good again! 😊"
    },

    // Sensitivity
    sensitivity: {
        keywords: ['sensitive', 'sensitivity', 'cold hurts', 'hot hurts', 'ice cream hurts', 'cold drinks hurt', 'sharp pain', 'shooting pain', 'sensitive teeth', 'sensitive tooth'],
        teen: "Tooth sensitivity (that sharp pain from hot/cold/sweet things) happens when your enamel wears down or your gums recede, exposing the inner layer of your tooth. Causes include aggressive brushing, acidic foods, teeth grinding, or gum disease. Use a soft toothbrush, sensitivity toothpaste (give it 2-4 weeks to work), avoid extremely hot/cold foods temporarily, and don't brush right after consuming acidic things. If it's severe or persistent, see your dentist - you might need a filling, crown, or other treatment. ❄️",
        younger: "If your teeth hurt when you eat cold ice cream or hot soup, that's called sensitivity. It usually means the outside of your tooth has gotten a little worn down. Use a very soft toothbrush, brush gently (no hard scrubbing!), and there are special toothpastes that can help. Tell a grown-up if your teeth hurt from hot or cold things so they can help make it better! 🍦"
    },

    // Core Topics
    whatIsOralHealth: {
        keywords: ['oral health', 'dental health', 'mouth health', 'teeth health', 'gum health', 'what is oral health'],
        teen: "Oral health is basically keeping your mouth, teeth, and gums healthy! It's super important because your mouth is connected to your whole body's health. Poor oral health can actually affect your heart, immune system, and even your grades (seriously - tooth pain makes it hard to focus!). When you have good oral health, you can eat, speak, and smile confidently! 😊",
        younger: "Oral health means keeping your teeth and gums clean and healthy! It helps you chew food, talk clearly, and have a bright smile! Think of your mouth as the gateway to your body - when it's healthy, your whole body feels better! 🦷✨"
    },
    
    commonProblems: {
        keywords: ['problems', 'issues', 'trouble', 'wrong', 'disease', 'infection', 'common problems'],
        teen: "The most common issues teens face are cavities (holes in teeth), gingivitis (swollen, bleeding gums), bad breath (halitosis), tooth sensitivity, and wisdom tooth problems. These usually happen when bacteria build up from not brushing or flossing enough, or from too much sugar and acid. The good news? They're totally preventable with good habits! 💪",
        younger: "Kids often get cavities (tiny holes in teeth), sometimes their gums get red or puffy, and they might get bad breath. This happens when we don't brush our teeth well enough, and the sugar bugs (bacteria) start making trouble! But don't worry - these problems can be fixed and prevented! 🦠"
    },

    prevention: {
        keywords: ['prevent', 'prevention', 'how to prevent', 'avoid', 'stop'],
        teen: "Prevention is actually pretty straightforward! Brush twice daily with fluoride toothpaste for 2 minutes, floss daily (I know, everyone says it but it really works!), use mouthwash, limit sugary drinks and snacks, eat calcium-rich foods, don't smoke or vape, wear a mouthguard for sports, and see your dentist every 6 months. Pro tip: if you have braces, be extra careful with cleaning around the wires! 🪥",
        younger: "Keep your teeth healthy by brushing in the morning and before bed for 2 whole minutes, flossing with help from a grown-up, eating healthy foods like cheese and apples, drinking water instead of soda, and visiting the dentist twice a year. Try to limit candy and sticky foods - your teeth will thank you! 🍎"
    },

    // Brushing and Hygiene
    brushing: {
        keywords: ['brush', 'brushing', 'toothbrush', 'how to brush', 'brush teeth', 'toothpaste', 'how brush'],
        teen: "Proper brushing technique makes ALL the difference! Use a soft-bristled toothbrush at a 45-degree angle to your gums. Make small circular motions, don't scrub back and forth (that damages enamel and gums). Brush for 2 full minutes - front, back, and chewing surfaces of all teeth, plus your tongue! Use fluoride toothpaste (it rebuilds enamel). Replace your toothbrush every 3 months or after being sick. Electric toothbrushes can be more effective if you struggle with technique. Pro tip: don't rinse immediately after brushing - let the fluoride work! 🪥",
        younger: "Here's how to brush like a pro: Put a pea-sized amount of toothpaste on your brush. Brush in gentle circles, not hard scrubbing! Make sure to brush the fronts, backs, and tops of all your teeth, even the ones way in the back. Don't forget your tongue - it needs cleaning too! Brush for as long as it takes to sing 'Happy Birthday' twice. Spit out the toothpaste but don't rinse right away so the good stuff can keep protecting your teeth! 🎵"
    },

    // Bad breath
    badBreath: {
        keywords: ['bad breath', 'halitosis', 'breath smells', 'mouth smells', 'stinky breath', 'breath odor', 'smelly breath'],
        teen: "Bad breath (halitosis) is usually caused by bacteria on your tongue, between teeth, or in gum pockets. Solutions: brush your tongue or use a tongue scraper, floss daily (seriously!), stay hydrated, avoid strong-smelling foods before social situations, and see your dentist if it persists. Sometimes it's caused by medical conditions, certain medications, or dry mouth. Don't just mask it with mints - address the root cause. If you're concerned, your dentist can help identify what's going on. Fresh breath = confidence! 😤",
        younger: "Bad breath usually comes from germs in your mouth, especially on your tongue! Make sure to gently brush your tongue when you brush your teeth, drink lots of water, and always brush and floss well. Sometimes eating smelly foods like garlic can make your breath smell too, but that goes away. If your breath still smells bad even after good brushing, tell a grown-up so they can help figure out why! 👅"
    },

    // Default fallback response
    defaultResponse: {
        teen: "That's a great dental question! While I don't have specific information about that topic in my knowledge base, I'd recommend talking to your dentist or a trusted adult who can help you get the right answer. In the meantime, keep up with good brushing and flossing - that prevents most dental problems! Is there anything else about oral health I can help you with? 🦷",
        younger: "That's a good question! I don't know the answer to that one, but a dentist or grown-up would be able to help you. Remember to keep brushing and flossing your teeth every day - that's the best way to keep them healthy! Do you have any other questions about taking care of your teeth? 😊"
    }
};

// IMPROVED search function with better debugging
function findBestResponse(userInput, userAge = 'teen') {
    const input = userInput.toLowerCase().trim();
    console.log('Searching for:', input); // Debug line
    
    // Check each topic's keywords
    for (const [topicKey, topicData] of Object.entries(knowledgeBase)) {
        if (topicData.keywords) {
            // Check if any keyword matches the user input
            const hasMatch = topicData.keywords.some(keyword => {
                const match = input.includes(keyword.toLowerCase());
                if (match) console.log('Found match:', keyword, 'in topic:', topicKey); // Debug line
                return match;
            });
            
            if (hasMatch) {
                return topicData[userAge] || topicData.teen;
            }
        }
    }
    
    console.log('No match found, using default'); // Debug line
    // If no match found, return default response
    return knowledgeBase.defaultResponse[userAge] || knowledgeBase.defaultResponse.teen;
}

        // Theme toggle functionality
        function toggleTheme() {
            currentTheme = currentTheme === 'light' ? 'dark' : 'light';
            document.documentElement.setAttribute('data-theme', currentTheme);
            
            const themeIcon = document.getElementById('themeIcon');
            const themeText = document.getElementById('themeText');
            
            if (currentTheme === 'dark') {
                themeIcon.textContent = '☀️';
                themeText.textContent = 'Light';
            } else {
                themeIcon.textContent = '🌙';
                themeText.textContent = 'Dark';
            }
        }

        // Language functionality (basic implementation)
        function changeLanguage(language) {
            currentLanguage = language;
            // In a full implementation, this would update all text content
            console.log('Language changed to:', language);
        }

        // Chat modal functionality
        function openChat() {
            document.getElementById('chatbotModal').style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        function closeChat() {
            document.getElementById('chatbotModal').style.display = 'none';
            document.body.style.overflow = 'auto';
            resetChat();
        }

        function resetChat() {
            userAge = null;
            currentStep = 'age';
            document.getElementById('ageInput').value = '';
            
            const messagesContainer = document.getElementById('chatMessages');
            const firstMessage = messagesContainer.children[0];
            messagesContainer.innerHTML = '';
            messagesContainer.appendChild(firstMessage);
            messagesContainer.appendChild(document.getElementById('typingIndicator'));
        }

function setAge() {
    const age = parseInt(document.getElementById('ageInput').value);

    if (!age || isNaN(age)) {
        alert('Please enter a valid number!');
        return;
    }

    if (age >= 10 && age <= 19) {
        userAge = age;
        currentStep = 'main';

        addUserMessage(`I'm ${age} years old!`);

        setTimeout(() => {
            const greeting = age >= 15
                ? `Awesome! Since you're ${age}, I'll keep things real with you. What would you like to know about oral health?`
                : `Cool! Since you're ${age}, I'll explain things in a way that's perfect for you. What do you want to learn about your teeth?`;

            addBotMessage(greeting, getMainMenuOptions());
        }, 1000);
    } else {
        alert('Please enter an age between 10–19!');
    }
}


        function getMainMenuOptions() {
            return [
                { text: "What is oral health anyway?", action: "whatIsOralHealth" },
                { text: "What problems could I have?", action: "commonProblems" },
                { text: "How do I prevent problems?", action: "prevention" },
                { text: "I have a specific symptom...", action: "symptoms" },
                { text: "✍️ Ask my own question", action: "customQuestion", isCustom: true }
            ];
        }

        function addUserMessage(text) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message';
            messageDiv.innerHTML = `<div class="user-message">${text}</div>`;
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function addBotMessage(text, options = null) {
            showTyping();
            
            setTimeout(() => {
                hideTyping();
                const messagesContainer = document.getElementById('chatMessages');
                const messageDiv = document.createElement('div');
                messageDiv.className = 'message';
                
                let optionsHtml = '';
                if (options) {
                    optionsHtml = '<div class="options-container">';
                    options.forEach(option => {
                        const buttonClass = option.isCustom ? 'custom-input-button' : 'option-button';
                        optionsHtml += `<button class="${buttonClass}" onclick="handleOptionClick('${option.action}', '${option.text.replace(/'/g, '&#39;')}')">${option.text}</button>`;
                    });
                    optionsHtml += '</div>';
                }
                
                messageDiv.innerHTML = `
                    <div class="bot-message">
                        ${text}
                        ${optionsHtml}
                    </div>
                `;
                
                messagesContainer.appendChild(messageDiv);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }, 1500);
        }

        function handleOptionClick(action, text) {
            if (action === 'customQuestion') {
                addUserMessage(text);
                setTimeout(() => {
                    addCustomQuestionInput();
                }, 1000);
                return;
            }

            addUserMessage(text);
            
            setTimeout(() => {
                const ageGroup = userAge >= 15 ? 'teen' : 'younger';
                let response = '';
                let nextOptions = [];
                
                switch(action) {
                    case 'whatIsOralHealth':
                        response = knowledgeBase.whatIsOralHealth[ageGroup];
                        nextOptions = [
                            { text: "Tell me about common problems", action: "commonProblems" },
                            { text: "How can I prevent issues?", action: "prevention" },
                            { text: "✍️ Ask my own question", action: "customQuestion", isCustom: true },
                            { text: "Back to main menu", action: "mainMenu" }
                        ];
                        break;
                        
                    case 'commonProblems':
                        response = knowledgeBase.commonProblems[ageGroup];
                        nextOptions = [
                            { text: "How do I prevent these?", action: "prevention" },
                            { text: "What about symptoms?", action: "symptoms" },
                            { text: "✍️ Ask my own question", action: "customQuestion", isCustom: true },
                            { text: "Back to main menu", action: "mainMenu" }
                        ];
                        break;
                        
                    case 'prevention':
                        response = knowledgeBase.prevention[ageGroup];
                        nextOptions = [
                            { text: "What if I already have symptoms?", action: "symptoms" },
                            { text: "Learn about oral health basics", action: "whatIsOralHealth" },
                            { text: "✍️ Ask my own question", action: "customQuestion", isCustom: true },
                            { text: "Back to main menu", action: "mainMenu" }
                        ];
                        break;
                        
                    case 'symptoms':
                        response = ageGroup === 'teen' ? 
                            "If you're experiencing tooth pain, bleeding gums, bad breath that won't go away, or sensitivity to hot/cold, don't ignore it! These could be signs of cavities, gum disease, or other issues. The sooner you address them, the easier they are to fix. Talk to a parent about seeing a dentist! 🩺" :
                            "If your teeth hurt, your gums bleed when you brush, or you have really bad breath, tell a grown-up! These might mean you need to see the dentist. Don't worry - dentists are there to help make your teeth feel better! 🏥";
                        nextOptions = [
                            { text: "How can I prevent this?", action: "prevention" },
                            { text: "Learn about common problems", action: "commonProblems" },
                            { text: "✍️ Ask my own question", action: "customQuestion", isCustom: true },
                            { text: "Back to main menu", action: "mainMenu" }
                        ];
                        break;
                        
                    case 'mainMenu':
                        response = "What else would you like to know?";
                        nextOptions = getMainMenuOptions();
                        break;
                }
                
                addBotMessage(response, nextOptions);
            }, 1000);
        }

        function addCustomQuestionInput() {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message';
            
            const ageGroup = userAge >= 15 ? 'teen' : 'younger';
            const placeholder = ageGroup === 'teen' ? 
                "e.g., How do I deal with braces? Why do my teeth hurt? How can I make my teeth whiter?" :
                "e.g., Why do I need to brush my teeth? What foods are bad for my teeth?";
                
            messageDiv.innerHTML = `
                <div class="bot-message">
                    ${ageGroup === 'teen' ? 
                        "What's on your mind? Ask me anything about oral health!" :
                        "What would you like to know? I'm here to help with any teeth questions!"
                    }
                    <textarea class="question-input" id="customQuestionInput" placeholder="${placeholder}"></textarea>
                    <button class="submit-question-btn" onclick="submitCustomQuestion()">Ask Away! 🚀</button>
                </div>
            `;
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
            
            setTimeout(() => {
                document.getElementById('customQuestionInput').focus();
            }, 100);
        }

        function submitCustomQuestion() {
            const input = document.getElementById('customQuestionInput');
            const question = input.value.trim();
            
            if (!question) {
                alert('Please enter a question!');
                return;
            }
            
            addUserMessage(question);
            
            setTimeout(() => {
                const response = generateCustomResponse(question);
                const nextOptions = [
                    { text: "✍️ Ask another question", action: "customQuestion", isCustom: true },
                    { text: "Back to main menu", action: "mainMenu" }
                ];
                
                addBotMessage(response, nextOptions);
            }, 1000);
        }

function generateCustomResponse(question) {
    const ageGroup = userAge >= 15 ? 'teen' : 'younger';
    
    // Use the improved knowledge base search function
    return findBestResponse(question, ageGroup);
}

        function showTyping() {
            document.getElementById('typingIndicator').style.display = 'block';
            const messagesContainer = document.getElementById('chatMessages');
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function hideTyping() {
            document.getElementById('typingIndicator').style.display = 'none';
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize theme
            document.documentElement.setAttribute('data-theme', currentTheme);
            
            // Close modal when clicking outside
            document.getElementById('chatbotModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeChat();
                }
            });

            // Age input enter key
            const ageInput = document.getElementById('ageInput');
            if (ageInput) {
                ageInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        setAge();
                    }
                });
            }
        });

        // Handle enter key in custom question input
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && e.target.id === 'customQuestionInput') {
                if (e.shiftKey) return;
                e.preventDefault();
                submitCustomQuestion();
            }
        });

        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && document.getElementById('chatbotModal').style.display === 'flex') {
                closeChat();
            }
        });
    </script>
</body>
</html>
